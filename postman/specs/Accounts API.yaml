openapi: 3.0.0
info:
  title: Accounts API
  version: 1.0.0
  description: Auto-generated from OpenAPI spec - Pure API routes without tests
servers:
  - url: localhost
  - url: '{{base_url}}'
paths:
  /health:
    get:
      summary: Health Check
      tags:
        - Health
      parameters:
        - name: dummy
          in: query
          required: false
          schema:
            type: string
      responses: {}
      description: Check if the service is running and healthy
  /accounts:
    get:
      summary: List All Accounts
      tags:
        - Accounts
      responses: {}
      description: Retrieve a list of all bank accounts
  /accounts/{id}:
    get:
      summary: Get Account by ID
      tags:
        - Accounts
      responses: {}
      description: Retrieve detailed information about a specific account
    parameters:
      - name: id
        in: path
        required: true
        description: Account ID
        schema:
          type: string
  /accounts/{id}/balance:
    get:
      summary: Get Account Balance
      tags:
        - Accounts
      responses: {}
      description: Retrieve the current balance of a specific account
    parameters:
      - name: id
        in: path
        required: true
        description: Account ID
        schema:
          type: string
  /accounts/{id}/transactions:
    get:
      summary: Get Account Transactions
      tags:
        - Accounts
      parameters:
        - name: from
          in: query
          required: false
          description: Start date (ISO 8601)
          schema:
            type: string
        - name: to
          in: query
          required: false
          description: End date (ISO 8601)
          schema:
            type: string
        - name: type
          in: query
          required: false
          description: Transaction type (debit, credit, transfer)
          schema:
            type: string
      responses: {}
      description: >-
        Retrieve transaction history for a specific account with optional
        filters
    parameters:
      - name: id
        in: path
        required: true
        description: Account ID
        schema:
          type: string

  /accounts/{id}/statement:
    get:
      tags: [Accounts]
      summary: Get Account Statement
      description: Generate a statement for a specific account within a date range.
      operationId: getAccountStatement
      parameters:
        - $ref: "#/components/parameters/AccountId"
        - name: from
          in: query
          description: Statement start date (ISO 8601).
          required: true
          schema: { type: string, format: date }
        - name: to
          in: query
          description: Statement end date (ISO 8601).
          required: true
          schema: { type: string, format: date }
        - name: format
          in: query
          description: Statement format.
          required: false
          schema:
            type: string
            enum: [json, pdf, csv]
            default: json
      responses:
        "200":
          description: Statement generated successfully.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountStatement"
        "400":
          description: Bad request - missing required parameters or invalid format.
        "404":
          description: Account not found.

  /accounts/{id}/statement:
    get:
      tags: [Accounts]
      summary: Get Account Statement
      description: Generate a statement for a specific account within a date range.
      operationId: getAccountStatement
      parameters:
        - $ref: "#/components/parameters/AccountId"
        - name: from
          in: query
          description: Statement start date (ISO 8601).
          required: true
          schema: { type: string, format: date }
        - name: to
          in: query
          description: Statement end date (ISO 8601).
          required: true
          schema: { type: string, format: date }
        - name: format
          in: query
          description: Statement format.
          required: false
          schema:
            type: string
            enum: [json, pdf, csv]
            default: json
      responses:
        "200":
          description: Statement generated successfully.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountStatement"
        "400":
          description: Bad request - missing required parameters or invalid format.
        "404":
          description: Account not found.

  /transactions/{id}:
    get:
      summary: Get Transaction by ID
      tags:
        - Transactions
      responses: {}
      description: Retrieve details of a specific transaction
    parameters:
      - name: id
        in: path
        required: true
        description: Transaction ID
        schema:
          type: string
  /transfers:
    post:
      summary: Create Transfer
      tags:
        - Transfers
      responses: {}
      description: Create a new fund transfer between two accounts
  /transfers/{id}/status:
    get:
      summary: Get Transfer Status
      tags:
        - Transfers
      responses: {}
      description: Check the current status of a transfer
    parameters:
      - name: id
        in: path
        required: true
        description: Transfer ID
        schema:
          type: string
